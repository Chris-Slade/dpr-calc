(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{92:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(12),o=t.n(r),c=t(252),i=t(255),u=t(254),s=t(181),m=t(90),h=t.n(m),g=t(251),d=t(241);function f(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?f(Object(t),!0).forEach((function(a){h()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var v=n.useCallback,b=["plusOneWeapon","plusTwoWeapon","plusThreeWeapon"],E=function(e,a){return v((function(t){e((function(e){var n=p(p({},e),{},h()({},a,t));return b.includes(a)&&t&&(b.forEach((function(e){return n[e]=!1})),n[a]=!0),n}))}),[e,a])},y=function(e){var a=e.value,t=e.onChange;return n.createElement(g.a,null,n.createElement(d.a,{component:"legend"},"Additional Bonuses"),n.createElement(Ae,{label:"Archery FS",title:"Archery Fighting Style (+2 to hit).",value:a.archeryFightingStyle,onChange:E(t,"archeryFightingStyle")}),n.createElement(Ae,{label:"Dueling FS",title:"Dueling Fighting Style (+2 damage; also works for Thrown-Weapon Fighting Style).",value:a.duelingFightingStyle,onChange:E(t,"duelingFightingStyle")}),n.createElement(Ae,{label:"Power Attack (-5/+10)",title:"Power Attacks for Sharpshooter or Great Weapon Master.",value:a.powerAttack,onChange:E(t,"powerAttack")}),n.createElement(Ae,{label:"Rage",title:"Barbarian Rage",value:a.rage,onChange:E(t,"rage")}),n.createElement(Ae,{label:"+1 Weapon (+1/+1)",value:a.plusOneWeapon,onChange:E(t,"plusOneWeapon")}),n.createElement(Ae,{label:"+2 Weapon (+2/+2)",value:a.plusTwoWeapon,onChange:E(t,"plusTwoWeapon")}),n.createElement(Ae,{label:"+3 Weapon (+3/+3)",value:a.plusThreeWeapon,onChange:E(t,"plusThreeWeapon")}))},w=t(249),C=t(250),O=t(253),S=t(247),k=function(e){var a=e.label,t=e.value,l=e.onChange;return n.createElement(c.a,null,n.createElement(w.a,{component:"fieldset"},n.createElement(d.a,{component:"legend"},a),n.createElement(C.a,{"aria-label":"Advantage/Disadvantage",defaultValue:"normal",name:"radio-buttons-group",row:!0,value:t,onChange:function(e){return l(e.target.value)}},n.createElement(O.a,{value:"normal",control:n.createElement(S.a,null),label:"Normal"}),n.createElement(O.a,{value:"advantage",control:n.createElement(S.a,null),label:"Advantage"}),n.createElement(O.a,{value:"disadvantage",control:n.createElement(S.a,null),label:"Disadvantage"}),n.createElement(O.a,{value:"super_advantage",control:n.createElement(S.a,null),label:"Super Advantage",title:"The highest of 3d20, e.g. for Elven Accuracy."}))))},x=function(e){return e<5?1:e<11?2:e<17?3:4},j=function(e){return e<5?1:e<11?2:e<20?3:4},A=function(e,a,t,n){return e.archeryFightingStyle&&(a+=2),e.duelingFightingStyle&&(t+=2),e.plusOneWeapon&&(a+=1,t+=1),e.plusTwoWeapon&&(a+=2,t+=2),e.plusThreeWeapon&&(a+=3,t+=3),e.powerAttack&&(a-=5,t+=10),e.rage&&(t+=function(e){return e<9?2:e<16?3:4}(n)),[a,t]},D=function(e){return e<4?3:e<8?4:5},P=function(e,a,t){var n=N(D(e)+X(e),a,20,t);return{accuracy:n,damage:x(e)*I(n,B(20,t),{d4:0,d6:1,d8:0,d10:1,d12:0,d20:0},function(e){return e<2?0:D(e)}(e))}},W=function(e,a,t,n){switch(e){case"warlock":return P(a,t,n);case"fighter":return function(e,a,t){var n=e>=8?5:e>=6?4:3,l=e>=4?10:0,r=n+X(e)+(e>=4?-5:0)+2,o=function(e){return e>=20?4:e>=11?3:e>=5?2:1}(e)+1,c=N(r,a,20,t);return{accuracy:c,damage:o*I(c,B(20,t),{d6:1},n+l)}}(a,t,n);case"rogue":return function(e,a,t){var n=e>=8?5:e>=4?4:3,l=X(e),r=Math.ceil(e/2),o=N(n+l,a,20,t);return{accuracy:o,damage:I(o,B(20,t),{d8:1,d6:r},n)}}(a,t,n);default:throw new TypeError("Not a baseline type: ".concat(e))}},B=function(e,a){var t=(21-e)/20,n=1-t;return"normal"===a?t:"advantage"===a?1-Math.pow(n,2):"super_advantage"===a?1-Math.pow(n,3):Math.pow(t,2)},T=function(e,a){for(var t=1;t<=a;t+=1)e.push(0);for(var n=e.length-1;n>=0;n-=1){e[n]=0;for(var l=n-1;l>=n-a&&l>=0;l-=1)e[n]+=e[l];e[n]/=a}},F=function(e){for(var a=[1],t=0,n=Object.entries(e);t<n.length;t++)for(var l=n[t],r=o()(l,2),c=r[0],i=r[1],u=0;u<i;u++)T(a,z(c));return a},M=function(e,a,t,n){var l=R(21+e-a,21-t,19)/20,r=1-l;return"normal"===n?l:"advantage"===n?1-Math.pow(r,2):"super_advantage"===n?1-Math.pow(r,3):Math.pow(l,2)},N=function(e,a,t){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=F(l),c=F(r),i=0,u=0;u<o.length;u++)for(var s=0;s<c.length;s++)i+=o[u]*c[s]*M(e+u-s,a,t,n);return i},R=function(e,a,t){return Math.max(Math.min(e,t),a)},H=function(e){return Object.keys(e).reduce((function(a,t){var n;return a+(1+function(e){switch(e){case"d4":return 4;case"d6":return 6;case"d8":return 8;case"d10":return 10;case"d12":return 12;case"d20":return 20}}(t))/2*(null!==(n=null==e?void 0:e[t])&&void 0!==n?n:0)}),0)},I=function(e,a,t,n){var l=H(t);return e*(l+n)+a*l},G=function(e,a,t,n,l){var r=H(n),o=1-a;return(1-Math.pow(1-a,e))*(l+r)+t*((1-Math.pow(o,e))/(1-o))*r},X=function(e){return Math.max(2,2+Math.floor((e-1)/4))},z=function(e){switch(e){case"d4":return 4;case"d6":return 6;case"d8":return 8;case"d10":return 10;case"d12":return 12;case"d20":return 20;default:throw new TypeError("Not a die: ".concat(e))}},U=n.useEffect,V=n.useState,_=function(e){var a=e.onChange,t=e.level,l=e.proficient,r=e.setProficient,i=V(0),u=o()(i,2),s=u[0],m=u[1];return U((function(){a(l?s+X(t):s)}),[s,l,t]),n.createElement(c.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:3},n.createElement($,{sx:{flexGrow:1},label:"Attack Mods",title:"Any modifiers to hit besides proficiency bonus, such as your attack modifier, Archery, Sharpshooter, +1/2/3 weapons, etc.",name:"to-hit",value:s,onChange:m}),n.createElement(oe,{label:"Auto proficiency",title:"If checked, the attacker's Proficiency Bonus will be included in its modifiers on the attack roll(s).",value:l,onChange:r}))},q=t(20),J=t.n(q),L=t(88),K=t.n(L),Q=t(246),Y=["value","onChange"],Z=Object(s.a)(Q.a)({minWidth:"8ch",maxWidth:"30ch"}),$=function(e){var a=e.value,t=e.onChange,l=K()(e,Y);return n.createElement(Z,J()({variant:"outlined",type:"number",value:a||"",onChange:function(e){return t(function(e){var a=parseFloat(e);return isNaN(a)?0:a}(e.target.value))}},l))},ee=n.useEffect,ae=n.useState,te=function(e){var a=e.value,t=e.onChange,l=e.level,r=ae("manual"),c=o()(r,2),i=c[0],u=c[1];return ee((function(){"cantrip"===i?t(x(l)):"fighter"===i?t(j(l)):"fighter-ba"===i&&t(j(l)+1)}),[l,i]),n.createElement(n.Fragment,null,n.createElement(w.a,{component:"fieldset"},n.createElement(d.a,{component:"legend",sx:{marginBottom:1}},"Attack Progression"),n.createElement(C.a,{"aria-label":"Attack Progression",defaultValue:"manual",name:"radio-buttons-group",value:i,onChange:function(e){return u(e.target.value)}},n.createElement(O.a,{value:"manual",control:n.createElement(S.a,null),label:n.createElement($,{label:"Manual",title:"Total number of attacks the attacker makes during a round.",name:"attacks",value:a,size:"small",onChange:t,disabled:"manual"!==i})}),n.createElement(O.a,{value:"fighter",control:n.createElement(S.a,null),label:"Fighter"}),n.createElement(O.a,{value:"fighter-ba",control:n.createElement(S.a,null),label:"Fighter (with BA attack)"}),n.createElement(O.a,{value:"cantrip",control:n.createElement(S.a,null),label:"Cantrip (EB)"}))))},ne=function(e){var a=e.value,t=e.onChange;return l.a.createElement(c.a,null,l.a.createElement(w.a,{component:"fieldset"},l.a.createElement(d.a,{component:"legend"},"Baseline Type"),l.a.createElement(C.a,{"aria-label":"Baseline Type",defaultValue:"warlock",name:"radio-buttons-group",row:!0,value:a,onChange:function(e){return t(e.target.value)}},l.a.createElement(O.a,{value:"warlock",control:l.a.createElement(S.a,null),label:"Warlock"}),l.a.createElement(O.a,{value:"fighter",control:l.a.createElement(S.a,null),label:"Fighter"}),l.a.createElement(O.a,{value:"rogue",control:l.a.createElement(S.a,null),label:"Rogue"}))))},le=t(248),re=["value","onChange","label"],oe=function(e){var a=e.value,t=e.onChange,l=e.label,r=K()(e,re);return n.createElement(O.a,{control:n.createElement(le.a,J()({},r,{checked:a,onChange:function(e,a){t(a)}})),label:l})},ce=n.useEffect,ie=n.useState,ue=function(e){var a=e.attackModifiersSansPb,t=e.value,l=e.onChange,r=ie(!1),i=o()(r,2),u=i[0],s=i[1];return ce((function(){u&&l(a)}),[u,a]),n.createElement(c.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:3},n.createElement($,{sx:{flexGrow:1},label:"Damage Mods",title:"Any modifiers to damage, such as your attack modifier, Sharpshooter, +1/+2/+3 weapons, etc.",value:t,onChange:l,disabled:u}),n.createElement(oe,{label:"Same as attack mod",title:"If checked, the attack mod minus your Proficiency Bonus will be used as the damage mod.",value:u,onChange:s}))};function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function me(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?se(Object(t),!0).forEach((function(a){h()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var he=["d4","d6","d8","d10","d12","d20"],ge=Object(s.a)(c.a)((function(e){var a=e.theme;return{gap:a.spacing(3),display:"flex",flexFlow:"row wrap",flex:"1 1 0",maxWidth:"calc(3 * (10ch + ".concat(a.spacing(3),"))")}})),de=Object(s.a)($)({maxWidth:"10ch"}),fe=function(e){var a=e.die,t=e.value,l=e.onChange;return n.createElement(de,{label:a,name:a,value:t[a],onChange:function(e){return l(me(me({},t),{},h()({},a,e)))},inputProps:{min:0}})},pe=function(e){var a=e.label,t=e.title,l=e.value,r=e.onChange;return n.createElement(c.a,{display:"flex",flexDirection:"column",title:t},n.createElement(d.a,{sx:{marginBottom:3}},a),n.createElement(ge,null,he.map((function(e,a){return n.createElement(fe,{key:a,die:e,value:l,onChange:r})}))))},ve=function(e){var a=e.label,t=e.value,l=e.style,r=void 0===l?"decimal":l,o=isNaN(t)?"n/a":new Intl.NumberFormat("en-US",{style:r,maximumFractionDigits:"decimal"===r?10:2}).format(t),c=String(t),i=!isNaN(t)&&("percent"===r?c.length!==o.length-1:c.length!==o.length);return n.createElement(u.a,{title:i?c:void 0},a?"".concat(a,": "):"",o)},be=t(256),Ee=t(257),ye=t(258),we=t(259),Ce=t(260),Oe=t(261),Se=function(e){var a=e.title,t=e.rows;return l.a.createElement(be.a,{component:i.a,elevation:1,sx:{maxWidth:"max-content"}},l.a.createElement(Ee.a,null,l.a.createElement(ye.a,null,l.a.createElement(we.a,null,l.a.createElement(Ce.a,{colSpan:2,variant:"head",sx:{fontWeight:"h3.fontWeight"}},a))),l.a.createElement(Oe.a,null,t.map((function(e){return l.a.createElement(we.a,{key:e.label},l.a.createElement(Ce.a,null,e.label),l.a.createElement(Ce.a,null,l.a.createElement(ve,{value:e.value,style:e.style})))})))))},ke=function(e){var a=e.additionalMods,t=e.advantage,r=e.attackMods,i=e.attacks,s=e.baselineAdvantage,m=e.bonusDice,h=e.critThreshold,g=e.damageDice,d=e.damageMods,f=e.firstHitBonus,p=e.firstHitBonusDice,v=e.level,b=e.penaltyDice,E=e.targetAC,y=Object(n.useState)("warlock"),w=o()(y,2),C=w[0],O=w[1],S=A(a,r,d,v),k=o()(S,2),x=k[0],j=k[1],D=B(h,t),P=N(x,E,h,t,m,b),T=i*I(P,D,g,j)+G(i,P,B(h,t),p,f),F=W(C,v,E,s),M=[{label:"Sum of attack modifiers",style:"decimal",value:x},{label:"Chance to hit AC ".concat(E),style:"percent",value:P},{label:"Baseline chance to hit",style:"percent",value:F.accuracy},{label:"Percentage of baseline",style:"percent",value:P/F.accuracy}],R=[{label:"Sum of damage modifiers",style:"decimal",value:j},{label:"Average damage per round",style:"decimal",value:T},{label:"Baseline average damage per round",style:"decimal",value:F.damage},{label:"Percentage of baseline",style:"percent",value:T/F.damage}];return l.a.createElement(c.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:3},l.a.createElement(Se,{title:"Accuracy",rows:M}),l.a.createElement(Se,{title:"Damage",rows:R}),l.a.createElement(ne,{value:C,onChange:O}),l.a.createElement(u.a,{component:"p",variant:"subtitle2",maxWidth:"80ch"},"The warlock baseline starts with 16 CHA, increases it to 18 at 4th level and 20 at 8th level, and attacks using Eldritch Blast with Agonizing Blast and Hex."),l.a.createElement(u.a,{component:"p",variant:"subtitle2",maxWidth:"80ch"},"The fighter baseline starts with 16 DEX, the Archery Fighting Style, and the Crossbow Expert feat. It takes the Sharpshooter feat at 4th level and increases DEX to 18 at 6th level and 20 at 8th level."),l.a.createElement(u.a,{component:"p",variant:"subtitle2",maxWidth:"80ch"},"The rogue baseline starts with 16 DEX and uses a rapier with Sneak Attack. It increases DEX to 18 at 4th level and 20 at 8th level."))},xe=t(262),je=["value","onChange","label"],Ae=function(e){var a=e.value,t=e.onChange,l=e.label,r=K()(e,je);return n.createElement(O.a,{control:n.createElement(xe.a,J()({},r,{checked:a,onChange:function(e,a){t(a)}})),label:l})},De=n.useEffect,Pe=n.useState,We=function(e){var a=e.level,t=e.onChange,l=e.value,r=Pe(!1),i=o()(r,2),u=i[0],s=i[1];return De((function(){var e;u&&t((e=a)<=1/8?12:13+Math.floor(e/3))}),[a,u]),n.createElement(c.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:3},n.createElement($,{sx:{flexGrow:1},InputProps:{inputProps:{min:0}},label:"Target AC",title:"The Armor Class (AC) of the enemy being attacked.",name:"ac",value:l,onChange:t,disabled:u}),n.createElement(oe,{label:"Use average AC",title:"Use the average AC for a monster whose CR equals your level (equal to 13 + CR/3 for CRs above 1/8).",value:u,onChange:s}))},Be=Object(s.a)(c.a)((function(e){var a=e.theme;return{display:"flex",flex:"0 100%",flexDirection:"row",flexWrap:"wrap",height:"100%",width:"100%",padding:a.spacing(1),gap:a.spacing(1)}})),Te=Object(s.a)(i.a)((function(e){var a=e.theme;return{display:"flex",flexDirection:"column",padding:a.spacing(3),gap:a.spacing(3),flex:"1 1 0px",minWidth:"20em"}})),Fe=Object.freeze({d4:0,d6:0,d8:0,d10:0,d12:0,d20:0}),Me=function(){var e=Object(n.useState)(0),a=o()(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),i=o()(c,2),s=i[0],m=i[1],h=Object(n.useState)({archeryFightingStyle:!1,duelingFightingStyle:!1,powerAttack:!1,plusOneWeapon:!1,plusTwoWeapon:!1,plusThreeWeapon:!1,rage:!1}),g=o()(h,2),d=g[0],f=g[1],p=Object(n.useState)(!1),v=o()(p,2),b=v[0],E=v[1],w=Object(n.useState)(1),C=o()(w,2),O=C[0],S=C[1],x=Object(n.useState)(20),j=o()(x,2),A=j[0],D=j[1],P=Object(n.useState)(Fe),W=o()(P,2),B=W[0],T=W[1],F=Object(n.useState)(Fe),M=o()(F,2),N=M[0],R=M[1],H=Object(n.useState)("normal"),I=o()(H,2),G=I[0],z=I[1],U=Object(n.useState)("normal"),V=o()(U,2),q=V[0],J=V[1],L=Object(n.useState)(0),K=o()(L,2),Q=K[0],Y=K[1],Z=Object(n.useState)(Fe),ee=o()(Z,2),ae=ee[0],ne=ee[1],le=Object(n.useState)(0),re=o()(le,2),oe=re[0],ce=re[1],ie=Object(n.useState)(!1),se=o()(ie,2),me=se[0],he=se[1],ge=Object(n.useState)(!1),de=o()(ge,2),fe=de[0],ve=de[1],be=Object(n.useState)(0),Ee=o()(be,2),ye=Ee[0],we=Ee[1],Ce=Object(n.useState)(Fe),Oe=o()(Ce,2),Se=Oe[0],xe=Oe[1],je=X(O);return l.a.createElement(Be,null,l.a.createElement(Te,null,l.a.createElement(u.a,{variant:"h5"},"Accuracy"),l.a.createElement($,{label:"Level/CR (PB = ".concat(je,")"),title:"The level or Challenge Rating (CR) of the attacker, which determines its Proficiency Bonus (PB).",name:"level",value:O,onChange:S,InputProps:{inputProps:{min:0,max:30}}}),l.a.createElement(_,{value:s,onChange:m,proficient:b,setProficient:E,level:O}),l.a.createElement(We,{value:t,onChange:r,level:O}),l.a.createElement(Ae,{label:"Show Advanced Options",value:me,onChange:function(){he((function(e){return!e}))}}),me&&l.a.createElement(l.a.Fragment,null,l.a.createElement($,{label:"Crit Threshold",title:"The minimum roll on the d20 needed to get a critical hit.",InputProps:{inputProps:{min:1,max:20}},value:A,onChange:D}),l.a.createElement(y,{value:d,onChange:f}),l.a.createElement(pe,{label:"Bonus Dice",title:"Any dice that are added to your to-hit bonus (e.g. Bless).",value:B,onChange:T}),l.a.createElement(pe,{label:"Penalty Dice",title:"Any dice that are subtracted from your to-hit bonus (e.g. Bane).",value:N,onChange:R}),l.a.createElement(k,{label:"Advantage/Disadvantage",value:G,onChange:z}),l.a.createElement(k,{label:"Baseline Advantage/Disadvantage",value:q,onChange:J}))),l.a.createElement(Te,null,l.a.createElement(u.a,{variant:"h5"},"Damage"),l.a.createElement(te,{level:O,value:Q,onChange:Y}),l.a.createElement(ue,{value:oe,onChange:ce,attackModifiersSansPb:b?s-je:s}),l.a.createElement(pe,{label:"Damage Dice",value:ae,onChange:ne}),l.a.createElement(Ae,{label:"Show Advanced Options",value:fe,onChange:function(){ve((function(e){return!e}))}}),fe&&l.a.createElement(l.a.Fragment,null,l.a.createElement($,{label:"First-Hit Bonus Damage",title:"Bonus damage that is only dealt on the first hit you make on a turn.",value:ye,onChange:we}),l.a.createElement(pe,{label:"First-Hit Bonus Dice",title:"Bonus damage dice that are only dealt on the first hit you make on a turn (e.g. Sneak Attack).",value:Se,onChange:xe}))),l.a.createElement(Te,{sx:{flexGrow:2}},l.a.createElement(u.a,{variant:"h5"},"Outputs"),l.a.createElement(ke,{additionalMods:d,advantage:G,attackMods:s,attacks:Q,baselineAdvantage:q,bonusDice:B,critThreshold:A,damageDice:ae,damageMods:oe,firstHitBonus:ye,firstHitBonusDice:Se,level:O,penaltyDice:N,targetAC:t})))};a.default=function(){return n.createElement(Me,null)}}}]);