(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{92:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(12),l=t.n(r),c=t(247),m=t(249),i=t(246),u=t(238),o=t(245),s=t(248),d=t(244),v=function(e){var a=e.value,t=e.onChange;return n.createElement(i.a,{component:"fieldset"},n.createElement(u.a,{component:"legend"},"Advantage/Disadvantage"),n.createElement(o.a,{"aria-label":"Advantage/Disadvantage",defaultValue:"normal",name:"radio-buttons-group",row:!0,value:a,onChange:function(e){return t(e.target.value)}},n.createElement(s.a,{value:"normal",control:n.createElement(d.a,null),label:"Normal"}),n.createElement(s.a,{value:"advantage",control:n.createElement(d.a,null),label:"Advantage"}),n.createElement(s.a,{value:"disadvantage",control:n.createElement(d.a,null),label:"Disadvantage"})))},p=t(89),g=t.n(p),E=t(181),f=t(250),h=t(20),b=t.n(h),x=t(90),y=t.n(x),w=t(243),C=["value","onChange"],O=function(e){var a=e.value,t=e.onChange,r=y()(e,C);return n.createElement(w.a,b()({variant:"outlined",type:"number",value:a||"",onChange:function(e){return t(function(e){var a=parseFloat(e);return isNaN(a)?0:a}(e.target.value))},sx:{maxWidth:"200px"}},r))};function D(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?D(Object(t),!0).forEach((function(a){g()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var j=["d4","d6","d8","d10","d12","d20"],M=Object(E.a)("div")((function(e){var a=e.theme;return g()({display:"grid",gap:a.spacing(3),gridTemplate:"repeat(6, 1fr) / 1fr"},a.breakpoints.up("md"),{gridTemplate:"repeat(3, 1fr) / repeat(2, 1fr)"})})),k=function(e){var a=e.die,t=e.value,r=e.onChange;return n.createElement(O,{label:a,name:a,value:t[a],onChange:function(e){return r(P(P({},t),{},g()({},a,e)))}})},A=function(e){var a=e.value,t=e.onChange;return n.createElement(f.a,{display:"flex",flexDirection:"column"},n.createElement(u.a,{sx:{marginBottom:3}},"Damage Dice"),n.createElement(M,null,j.map((function(e,r){return n.createElement(k,{key:r,die:e,value:a,onChange:t})}))))},N=function(e){var a=e.value,t=e.style,r=void 0===t?"decimal":t,l=new Intl.NumberFormat("en-US",{style:r,maximumFractionDigits:10}).format(a);return n.createElement("span",null,l)},I=function(e){return e<4?3:e<8?4:5},T=function(e,a,t){var n=F(I(e)+W(e),a,t);return{accuracy:n,damage:function(e){return e<5?1:e<11?2:e<17?3:4}(e)*J(n,B(20,t),{d4:0,d6:1,d8:0,d10:1,d12:0,d20:0},function(e){return e<2?0:I(e)}(e))}},B=function(e,a){var t=(21-e)/20,n=1-t;return"normal"===a?t:"advantage"===a?1-Math.pow(n,2):Math.pow(t,2)},S=function(e,a,t){return Math.max(Math.min(e,t),a)},F=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",n=S((21+e-a)/20,0,1),r=S((a-e-1)/20,0,1),l=1-Math.pow(r,2),c=Math.pow(n,2);return"normal"===t?n:"advantage"===t?l:c},J=function(e,a,t,n){var r=Object.keys(t).reduce((function(e,a){return e+(1+function(e){switch(e){case"d4":return 4;case"d6":return 6;case"d8":return 8;case"d10":return 10;case"d12":return 12;case"d20":return 20}}(a))/2*t[a]}),0);return e*(r+n)+a*r},W=function(e){return Math.max(2,2+Math.floor((e-1)/4))},H=n.useState,L=function(){var e=H(0),a=l()(e,2),t=a[0],r=a[1],i=H(0),u=l()(i,2),o=u[0],s=u[1],d=H(1),p=l()(d,2),g=p[0],E=p[1],f=H("normal"),h=l()(f,2),b=h[0],x=h[1],y=H(0),w=l()(y,2),C=w[0],D=w[1],P=H({d4:0,d6:0,d8:0,d10:0,d12:0,d20:0}),j=l()(P,2),M=j[0],k=j[1],I=H(0),S=l()(I,2),L=S[0],R=S[1],U=W(g),V=F(o+U,t,b),q=B(20,b),z=C*J(V,q,M,L),G=T(g,t,b);return console.log(B(20,"normal")),n.createElement(c.a,{container:!0,spacing:3,sx:{height:"100%",width:"100%",padding:3,"& h5":{marginTop:3}}},n.createElement(c.a,{item:!0,xs:12,md:3},n.createElement(c.a,{item:!0},n.createElement(m.a,{variant:"h4"},"Inputs")),n.createElement(c.a,{container:!0,spacing:3},n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,{variant:"h5"},"Accuracy")),n.createElement(c.a,{item:!0,xs:12,md:6},n.createElement(O,{label:"To-Hit Modifiers",name:"to-hit",value:o,onChange:s})),n.createElement(c.a,{item:!0,xs:12,md:6},n.createElement(O,{label:"Level/CR (PB = ".concat(U,")"),name:"level",value:g,onChange:E,InputProps:{inputProps:{min:0,max:30}}})),n.createElement(c.a,{item:!0,xs:12,md:6},n.createElement(O,{InputProps:{inputProps:{min:0}},label:"Target AC",name:"ac",value:t,onChange:r})),n.createElement(c.a,{item:!0,xs:12},n.createElement(v,{value:b,onChange:x}))),n.createElement(c.a,{container:!0,spacing:3},n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,{variant:"h5"},"Damage")),n.createElement(c.a,{item:!0,xs:12,md:6},n.createElement(O,{label:"Number of Attacks",name:"attacks",value:C,onChange:D})),n.createElement(c.a,{item:!0,xs:12,md:6},n.createElement(O,{label:"Damage Modifiers",value:L,onChange:R})),n.createElement(c.a,{item:!0,xs:12},n.createElement(A,{value:M,onChange:k})))),n.createElement(c.a,{item:!0,xs:12,md:9},n.createElement(c.a,{item:!0},n.createElement(m.a,{variant:"h4"},"Outputs")),n.createElement(c.a,{container:!0,spacing:3},n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,{variant:"h5"},"Accuracy")),n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,null,"Chance to hit: ",n.createElement(N,{value:V})," ",n.createElement("br",null),"Baseline: ",n.createElement(N,{value:G.accuracy}))),n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,{variant:"h5"},"Damage")),n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,null,"Damage per round: ",n.createElement(N,{value:z})),n.createElement(m.a,null,"Baseline: ",n.createElement(N,{value:G.damage}))),n.createElement(c.a,{item:!0,xs:12},n.createElement(m.a,{component:"p",variant:"subtitle2"},"Note: Critical hits/misses, crit damage, and independent accuracy/damage per attack are WIP.")))))};a.default=function(){return n.createElement(L,null)}}}]);